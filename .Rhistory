ls
hello
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
View(df)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
print(df.columns)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
print(df.columns())
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
print(df)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
print(df[0])
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
print(df.heads)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
head(df)
View(df)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
head(df)
View(df)
district_df = subset(df, district=1)
district_df = subset(df, District=1)
district_df = subset(df, District == 1)
district_df = df[,c("District")]
district_df = df[,c("District")]
boxplot(district_df)
district_df = df[,c("District")]
hist(district_df)
district_df = df[,c("District")]
barplot(table(df$District),
las = 2,
col = "skyblue",
main = "Number of Stops by District",
ylab = "Count")
district_df = df[,c("District")]
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
)
install.packages("ggplot2")
district_df = df[,c("District")]
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
)
district_df = df[,c("District")]
library(ggplot2)
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
)
library(dplyr)
library(ggplot2)
install.packages("dplyr")
install.packages("ggplot2")
counts <- df %>%
group_by(District) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
library(dplyr)
library(ggplot2)
install.packages("dplyr")
install.packages("ggplot2")
counts <- df %>%
group_by(District) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
) +
theme_minimal()
library(dplyr)
library(ggplot2)
# install.packages("dplyr")
# install.packages("ggplot2")
counts <- df %>%
group_by(District) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
) +
theme_minimal()
reticulate::repl_python()
clear
unique(df$District)
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
head(df)
library(dplyr)
library(ggplot2)
# install.packages("dplyr")
# install.packages("ggplot2")
counts <- df %>%
group_by(District) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
names(head)
names(head)
counts <- df %>%
group_by(District, Accessible) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion_accessible = accessible / total
)
library(ggplot2)
ggplot(stops_by_district, aes(x = n_stops, y = reorder(District, n_stops))) +
geom_col(fill = "orange") +
labs(
title = "Number of MiWay Stops by District",
x = "Count",
y = "District"
) +
theme_minimal()
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion_accessible = accessible / total
) %>%
arrange(desc(proportion_accessible))
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion_accessible = accessible / total
)
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion_accessible = accessible / total
)
library(ggplot2)
ggplot(access_summary, aes(x = proportion_accessible,
y = reorder(District, proportion_accessible))) +
geom_col(fill = "steelblue") +
labs(
title = "Proportion of Accessible Stops by District",
x = "Proportion Accessible",
y = "District"
) +
theme_minimal()
ggplot(accessible_counts, aes(x = accessible_stops, y = reorder(District, accessible_stops))) +
geom_col(fill = "steelblue") +
labs(
title = "Number of Accessible Stops by District",
x = "Number of Accessible Stops",
y = "District"
) +
theme_minimal()
accessible_counts <- df %>%
group_by(District) %>%
summarise(
total_stops = n(),
accessible_stops = sum(Accessible)
) %>%
arrange(desc(accessible_stops))
ggplot(accessible_counts, aes(x = accessible_stops, y = reorder(District, accessible_stops))) +
geom_col(fill = "steelblue") +
labs(
title = "Number of Accessible Stops by District",
x = "Number of Accessible Stops",
y = "District"
) +
theme_minimal()
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion = accessible / total
) %>%
arrange(desc(proportion))
ggplot(access_summary, aes(x = proportion, y = reorder(District, proportion))) +
geom_col(fill = "steelblue") +
labs(
title = "Proportion of Accessible Stops by District",
x = "Proportion Accessible",
y = "District"
) +
theme_minimal()
ggplot(access_summary, aes(x = proportion, y = reorder(District, proportion))) +
geom_col(fill = "steelblue") +
geom_text(aes(label = sprintf("%.1f%%", proportion * 100)),
hjust = -0.1, size = 3) +
xlim(0, 1.15) +
theme_minimal()
df = read.csv("./Datasets/MiWay_Bus_Stops_-4490514804018385747.csv")
head(df)
df$District[df$District == ""] <- "UNKNOWN"
library(dplyr)
library(ggplot2)
# install.packages("dplyr")
# install.packages("ggplot2")
counts <- df %>%
group_by(District) %>%
summarise(n = n()) %>%
arrange(desc(n))
head(counts)
ggplot(counts, aes(x = n, y = reorder(District, n))) +
geom_col(fill = "darkorange") +
labs(
title = "Number of Stops by District",
x = "Count",
y = "District"
) +
theme_minimal()
unique(df$District)
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Accessible),
total = n(),
proportion = accessible / total
) %>%
arrange(desc(proportion))
ggplot(access_summary, aes(x = proportion, y = reorder(District, proportion))) +
geom_col(fill = "steelblue") +
labs(
title = "Proportion of Accessible Stops by District",
x = "Proportion Accessible",
y = "District"
) +
theme_minimal()
ggplot(access_summary, aes(x = proportion, y = reorder(District, proportion))) +
geom_col(fill = "steelblue") +
geom_text(aes(label = sprintf("%.1f%%", proportion * 100)),
hjust = -0.1, size = 3) +
xlim(0, 1.15) +
theme_minimal()
access_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Shelter),
total = n(),
proportion = Shelter / total
) %>%
arrange(desc(proportion))
shelter_summary <- df %>%
group_by(District) %>%
summarise(
accessible = sum(Shelter),
total = n(),
proportion = Shelter / total
) %>%
arrange(desc(proportion))
shelter_summary <- df %>%
group_by(District) %>%
summarise(
shelters = sum(Shelter),
total = n(),
proportion_sheltered = shelters / total
) %>%
arrange(desc(proportion_sheltered))
shelter_summary <- df %>%
group_by(District) %>%
summarise(
shelters = sum(Shelter),
total = n(),
proportion_sheltered = shelters / total
) %>%
arrange(desc(proportion_sheltered))
head(shelter_summary)
library(ggplot2)
ggplot(shelter_summary, aes(x = proportion_sheltered,
y = reorder(District, proportion_sheltered))) +
geom_col(fill = "#FF9933") +
labs(
title = "Proportion of Bus Stops with Shelters by District",
x = "Proportion Sheltered",
y = "District"
) +
theme_minimal()
library(ggplot2)
ggplot(shelter_summary, aes(x = proportion_sheltered,
y = reorder(District, proportion_sheltered))) +
geom_col(fill = "#FF9933") +
labs(
title = "Proportion of Bus Stops with Shelters by District",
x = "Proportion Sheltered",
y = "District"
) +
theme_minimal()
ggplot(shelter_summary, aes(x = shelters, y = reorder(District, shelters))) +
geom_col(fill = "#F28C28") +
labs(
title = "Number of Sheltered Stops by District",
x = "Sheltered Stops",
y = "District"
) +
theme_minimal()
tinytex::install_tinytex()
library(dplyr)
library(tidyr)
routes_long <- df %>%
separate_rows(Routes_Service, sep = "/") %>%
mutate(Routes_Service = trimws(Routes_Service)) %>%   # remove spaces
filter(Routes_Service != "")                          # drop empty
routes_by_district <- routes_long %>%
group_by(District) %>%
summarise(n_routes = n_distinct(Routes_Service)) %>%
arrange(desc(n_routes))
routes_by_district
library(ggplot2)
ggplot(routes_by_district, aes(x = n_routes, y = reorder(District, n_routes))) +
geom_col(fill = "steelblue") +
labs(
title = "Number of Distinct MiWay Bus Routes by District",
x = "Number of Routes",
y = "District"
) +
theme_minimal()
utm_routes <- c("110", "101", "44", "1C")
unique(df$Routes_Service)
library(dplyr)
library(tidyr)
routes_long <- df %>%
separate_rows(Routes_Service, sep = "/") %>%
mutate(Routes_Service = trimws(Routes_Service))
utm_routes <- c("1", "44", "101", "110", "126")
unique(df$Routes_Service)
library(dplyr)
library(tidyr)
routes_long <- df %>%
separate_rows(Routes_Service, sep = "/") %>%
mutate(Routes_Service = trimws(Routes_Service))
utm_long <- routes_long %>%
filter(Routes_Service %in% utm_routes)
utm_long <- routes_long %>%
filter(Routes_Service %in% utm_routes)
district_utm <- utm_long %>%
group_by(District) %>%
summarise(
utm_stops            = n_distinct(Stop_Number),    # stops with a direct UTM bus
utm_bus_occurrences  = n(),                        # total appearances of UTM routes
utm_distinct_routes  = n_distinct(Routes_Service)  # how many of the 5 show up here
) %>%
arrange(desc(utm_stops))
library(ggplot2)
ggplot(district_utm, aes(x = utm_stops, y = reorder(District, utm_stops))) +
geom_col(fill = "#2C7BB6") +
labs(
title = "Direct UTM Bus Access by District",
x = "Stops with a Direct UTM Bus",
y = "District"
) +
theme_minimal()
